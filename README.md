## get-vault-credential

### Installation

```shell
npm install get-vault-credential # with npm
yarn add get-vault-credential # with yarn
```

### Usage

-   Set up a record with the secret engine KV in the same format as the `.env` file:

    ![Instruction 1](https://lh3.googleusercontent.com/fife/AK0iWDyRNHunh00B493tKsLL2UiiaFXCvz6XGfqp5NGlRVIzKjgq4R77SwzOGL3RUTU5Fx5mVOlsEd-1yZ5ua80rIYcYjsrw6MYqc8OobfndFqX0lzY0sTL69RjX8FiTHwzbxbb08TkIvcCt0gwKTCHa1lN63bw9nJnUrAnRHM7fbZ2l1L9oaWhaU0exw-nw_ohlnPYFGgr7fyEGfzoZ2vtZig2AUyuDykbc2M6Zqlv4KN6xkiVhVghcBnmz7nsIIRulNLNiwwhIu707mitlEzW7omdZWTTkwRmXJOpEl2iCHrp-XneM-IOfdZtMuZ3Vuf5tR3GbLMFo0YdB9baTiOm40aLppCivhpPFTFX7n6Ek28EvIdS1ui-44vfu_6KqnFDVMn6UedWaoRvfLj4yQp1IKcKdtCka0oFbFYRLW0yP-t0SaHALL8wrwN1brg1Oaep27VzgCDFwyrLkDtK8yy1y7_jgjGiv32kv4QnbwihQR9OcPIZ88ta2t1n-Z5pRVs_ORHmYq2g34r9tkiWcJNULQ4AKiejEQIFGIN-etuaq8-IsvzRUbbhh_i_3j8YHgPW4_713kU9oc_Ix_J9O3FV6bDAO2Z9e5iPKXyKMMAuf4gMhM3ihMvlbezjgi30X1Mvwagytkbw9LycDDo1GSMSiND0xlnUFlt47LUgdUx0ujJaJTqUKpn_SX0fvqUTXQSHJZEEQb3RThbGdB6yG53T6yUv5mW0UORLzA4pfkKZdvTpDj2pA5K-EC-afLFfJ6e56SslW82fC4eBr-8J9ftAyxuR2YelBdQcqjjiVn6T3L_9xSmc066iau-SIlb0Fmz8npVg5S1RKJaO3CrEZ77CEA6kCyTdFClRl-ZkBp5h3JAYGACfgbyrBLgdFXcaJHYgc_alHnuGNwgcAfCHF54pSY3J2a-yOsqGb_tAEDATFr6jgwrtzksG0KmTzQ4Gvit0oOe-HKFAJgnO6AkMB332eICHpIBD60MS5q0_Hf25ANVl8vssufP2PNpp3cJHy2AdEqXXlLrlMGP_dwQ8r3qUGvVadU8fn_7ltHJt5PIyXxH_Lzw5BmybJjFYsEN00kwm8btyadEeOknB9uFaLuhXro01Jv-qTBAd2lY9qcenqA1YGEu7Ma7dWyIOrzD8zk2-zkEXTcozsh3zmBPoU_4KQ0SgMRfyWjYdPrQrfXkrdihlkphYASUbInTjwGdvqmRN1K6qKZxYXfdGdVW73v3UyqA0hlFV22tMO9mYCVf2LdXrwBmRs6S5BajAa5eDRpw4NnStW1n-QPKDi1J4GLWcoV9cuNtFyxqMh8K36jc_Xluf0E8MJTlvnPO6nTz_JYAKNE-3I08in9Ku4JuGh6XEzWbb4VKabrZDae4gOkkuZvXgcLtj0DqKvoDHa70WdCulvxXxsOXODizpp0XBIefZJ4fzZLYW8ufzxUiNeRj6xe7lusKnAEG_4DOBZ636wfajrKpUn8OxuWXEsuscxY7mDf0MCfVA7lh-jc4cSresFVnyqmddum5Sd0o7Qt3IuJqLM-o0J4qk9LX0R4xnUZ1fhNyRlKO75uiD8_TnWyqOXRqRDP8FMxr4=w2170-h1486)

-   Then use the path of the newly created record as the value for the `--path` option:

    ![Instruction 2](https://lh3.googleusercontent.com/fife/AK0iWDyLByaMgFHDxR7dJKExMWUcz2gO6I1vxUJmK4crdNwJLCUEwhqPGuupqXT1h01js9a9nMR7eoyAAynNJUGpnOAlWsNqTn2tEx6l9TPcbk5igmI5ZGcrVvvb5zRYxOc0a3eCRaD6kv83THVT_bm8Pra-ufdtlsH_MyziQLZYKPjeThJh0t9lDInOMKdyQ2UFIgf2J1r3K-9vxeDzsws76QMEOuhEe8kvpJtkpWhWKunamL5kR80w4-GuL1IQsT1ln4XfH57HjY9EJ73mKMUIWM7bCsfQPadmsG_gFqZkuZ7LbmLtrMxSgaG6xQYUbz0nNi3DaAOsJjUb5YG87fKe1IyLcFi5zV47y1rA4AKvjX4Vd2VZMQjERTwgss_huudSzA0m6Ywck5MejQ8JtzvAC0_IFmDqRvJcjnAO4KQ0rYOKKJkzeCKYXItQfr4g_JIKdbYWbvG3bYMHA8w06zKnMA7gXlIQXb5PpGubSUvhxr9zgePEciyMekoFQ2FNOSv1c01eCpFzRPhJWp128X6Acd041EdyYT4jzeCbPTAyO8ysdz8BZyM8jnEg5xbP68yFEcxkruIq_ZSZnTGxo_GQn7KL0iBLRM-bZEfxxJR28ybLMZIOs3VzYkLeTqOdmzkhxhmD_UpnIovdnWx-GdylSaVISIphEymV0mBI1gEXcZAfER9l7CImf90d2MIVuRXU73hr71WB0HtZw10AIUI6aIq3xZ23_2pgyM4iI_0gtx-25Y8QUBN5Oyqa_qMKS0g7MLQPvgqTa-jyU3VQu4RgUAsAFBhqIy48JQqRGfEW5sI92TuIeu9o2dA_tyMBek9EEzQ0m8E_EUJ_lBcRYmzDVoQlbWhG4aLInP9yuqXjcI9JGUtBV_hylozYinmAVlulELyU1MvYB6jo0ACHwvkff_tQg8-s7iyUWEb1_o4alQZmMYARah5mqmFSowUJnyvp8ntpUFNySbs52tDt3fs451NoqMhCNv1VgjOg2VnEY1q5TU4gGK4qLXMwvo4mmMR8HjReVChmMLypnPln5DtWHaO1xRXM4xbglNBt1aIh5AqiznHyqyC61ewuDxtWgKm43-5OeSsJNIx4QPAbEuvi2ly2snzPRi11rzJPp12zmbySwNnrpe_anaDGhCsGzXhLMc45w4_VFBDnLvv4qtu4dbeM_dgIsgAHV1c42TYPux-CENc0FA0JCAc0kZh4rHpXH4q_3ydtS4xRi_oIj4dmhNAaw5WxuRM47O2TyL2VRTHiuZCzcmSAVrz1QIwK7oDQME_mm-p99tb2M_s8D4RR26eI_BEH085X8H8xkZ1I1CpDdjObGMbIYNwHvZKzYwoXdPjIPDd5CqVIGHTLLeX0DkXVqqbWunhHa9m5mggS14EE66MxIK6KdSK-BpPXmO9aCLIBAUvjalssRyR99Duh9fEWImvnAx9ar6wwU-JbMY9BqifOvZ152a4pkzOkWTzLv8dPzXBwDZhEsFK5P3OmIMs4-Ic4NaI8bcmfCT9w4wlaaIdR2TeU2pnOY1t7nikc1DNG9IzNxKrK6TVDKpkeNpVr9J9R2WZxSXCHd4sEtzkFh3Nk1-E=w2170-h1486)

-   Execute command `get-vault-credential` with options:

    ```bash
    npx get-vault-credential \
        -u vault_username \ # Vault username
        -p vault_password \ # Vault password
        --origin https://vault.example.com \ # Vault server origin
        --path secret/test/data/local_env # Path of secret engine
    ```

-   After executing the command above, you will get the `.env` file with content similar to the content of the record on the vault server along with the version of that record:

    ![Instruction 3](https://lh3.googleusercontent.com/fife/AK0iWDzI0_U8c87N7YFs8pjJjt4POkj9iTezqwXBq3GNLpfj5_CtJFIe366vJrrTTUvArgVBU5FyouXIZ8Xc8y6EpY2iN0nGBEvxR8SOti1K9WjBTc9eDuzvG2F7YgOgkhwNZzwcSDxNEbFcTNVcFOcY8ws6qbh1QX7yXaB9YvyaiFuoy58Obij4uXCDaNjHS1pbiCkp6wS3TnOPSJpMO4eVizBps09qTUNfkM4d7fSuPkdpeDBizATWrHwXisvWRlwMrVhq1eyfx8nwYSViQvPjsMC1S_zNU2QOeoo6gymeDWZuWUETvbzbhDksU2-ExZASEny0LhG6SDjG0fcwcClAYIPacwD5tBTah5kpgTP_RR9X8OqvNaIsr3m1b7ED-lySFglwQphMcySE_3lax_QvFaShV0q4DyFtjYkCQ-ZAwUb8qhwkvAgMfQzIAUO3I2LbC6v6n6D8tXw0XcE1yg662Z2rrvjE5RVZP9u4GQB-0zLHJrQezQ9bKtCYkg018QZZCsGSkfNOUvUjxXs0F6-MSIWHu5KrfPu_407OqXFvK8cu6-bu9gk0RtxAoLvoib6LAmbtfzlRao-FqyOEYyegqsyMSDso_A2fyO8W7fQ01i-Wi2zC0xngqoK7m3AT5pc2PqNMf_FadhuRMk3yZsTTRVNgzuAGhFrFN8l7Ng6SWhxIGH-2ZXsN2aXYMLq2GZqyp8OsDBTQu9bkASnrhsWrwhChjcBCv3JLyTz1lWLzcIJNi6myh6rWo_tanNxLVRc0DuqBzrFyEX7ZGM9wEVbG69Dpna1AeAGn6ioYIixQobKCFHUvUNLSdpz-7Rl4sZDajm-0egrl0nOmDJuEilQP7LRcNrgboc1O5Z3Ppa_AZ1L75tBNmF-9QJQGl0ajBQ4_RVJZQGUAEhcUSIWqjtw7Wi8WL-FcGCUtEOZva2uh8xD8DNNqaqYZLWqNVYuC_WV5AwIDI2U4bxyzQFhd-xD_VkLf8sKjTQt6suYr0a4acs1n6YL2xjSso_t0wH9mND1lymvm3DsRH8OSY_a9PEDNW6WPhSoLMI3AqpZKF1Uk-gapyv896qH_SL5EALrrqF99csxRIxpOOGH_BdrnD7woQ6G07KLawgFwHlprr4EatIExmipXo9hrdxhwU8HSz2Xf5liGEwmXutE2hgOguIi9KeldPb3Z8NjwW49wfkrXhHP6DmfwG2qjbUFlWrMkWVYTtEO_fUlt04e7TVKGhSh2tor1SKjym_oyAOCjgXLKwCi7yqh0dZ4b970BxGj8bBqy8iiSVVuHT1XcrnZIMQu4WYo6A9M1w2E2USAF2KrlEpNVCe0drfHqzG79Rxm0V0_UJVum9IFH4NxSEhZEhzb8aGg9W8Amp0MEz8jUWyv9xJW16ozMwJhe_ygw1KtHFe2X0n-cglKkHAD9yQr2mNmZzy04f0PL9sbDl2vW0h0vnhhwkhcmnysIGb8PazETAJLkjKaHqy6T9ACisvXTIFL37vRb81jwBZ4QvLhmNGjEQTzBs5K-DhU_oK3b53xe2Jvm7QITowYhcGgczmRJZVaLdsJqrtSeSMJT2jN3yrcCkrE9_H5ncSo=w2170-h1486)
